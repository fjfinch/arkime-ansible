---
name: arkime

services:
  arkime:
    container_name: arkime
    image: ghcr.io/arkime/arkime/arkime:v5-latest
    network_mode: host
    restart: unless-stopped
    cap_add:
      - NET_ADMIN
    ulimits:
      memlock:
        soft: -1
        hard: -1
    environment:
      TZ: "${DEVICE_TIMEZONE}"
    volumes:
      - volume_arkime:/opt/arkime/raw
      - ./arkime/config.ini:/opt/arkime/etc/config.ini
    command: /opt/arkime/bin/docker.sh capture-viewer --update-geo

volumes:
  volume_arkime:
    external: true
